/**
 * Copyright (C) 2003-present CompatibL. All rights reserved.
 * This file contains valuable trade secrets and may be copied, stored, used,
 * or distributed only in compliance with the terms of a written commercial
 * license from CompatibL and with the inclusion of this copyright notice.
 */
import{l as In}from"./controls-B-lqj8_S.js";/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.50.0(c321d0fbecb50ab8a5365fa1965476b0ae63fc87)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var En=Object.defineProperty,An=Object.getOwnPropertyDescriptor,Sn=Object.getOwnPropertyNames,Tn=Object.prototype.hasOwnProperty,Ln=(t,r,i,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Sn(r))!Tn.call(t,n)&&n!==i&&En(t,n,{get:()=>r[n],enumerable:!(e=An(r,n))||e.enumerable});return t},Rn=(t,r,i)=>(Ln(t,r,"default"),i),l={};Rn(l,In);var Mn=2*60*1e3,Fn=class{constructor(t){this._defaults=t,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30*1e3),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>Mn&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=l.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...t){let r;return this._getClient().then(i=>{r=i}).then(i=>{if(this._worker)return this._worker.withSyncedResources(t)}).then(i=>r)}},dt;(function(t){function r(i){return typeof i=="string"}t.is=r})(dt||(dt={}));var $;(function(t){function r(i){return typeof i=="string"}t.is=r})($||($={}));var lt;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function r(i){return typeof i=="number"&&t.MIN_VALUE<=i&&i<=t.MAX_VALUE}t.is=r})(lt||(lt={}));var B;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function r(i){return typeof i=="number"&&t.MIN_VALUE<=i&&i<=t.MAX_VALUE}t.is=r})(B||(B={}));var E;(function(t){function r(e,n){return e===Number.MAX_VALUE&&(e=B.MAX_VALUE),n===Number.MAX_VALUE&&(n=B.MAX_VALUE),{line:e,character:n}}t.create=r;function i(e){let n=e;return s.objectLiteral(n)&&s.uinteger(n.line)&&s.uinteger(n.character)}t.is=i})(E||(E={}));var p;(function(t){function r(e,n,o,a){if(s.uinteger(e)&&s.uinteger(n)&&s.uinteger(o)&&s.uinteger(a))return{start:E.create(e,n),end:E.create(o,a)};if(E.is(e)&&E.is(n))return{start:e,end:n};throw new Error(`Range#create called with invalid arguments[${e}, ${n}, ${o}, ${a}]`)}t.create=r;function i(e){let n=e;return s.objectLiteral(n)&&E.is(n.start)&&E.is(n.end)}t.is=i})(p||(p={}));var W;(function(t){function r(e,n){return{uri:e,range:n}}t.create=r;function i(e){let n=e;return s.objectLiteral(n)&&p.is(n.range)&&(s.string(n.uri)||s.undefined(n.uri))}t.is=i})(W||(W={}));var gt;(function(t){function r(e,n,o,a){return{targetUri:e,targetRange:n,targetSelectionRange:o,originSelectionRange:a}}t.create=r;function i(e){let n=e;return s.objectLiteral(n)&&p.is(n.targetRange)&&s.string(n.targetUri)&&p.is(n.targetSelectionRange)&&(p.is(n.originSelectionRange)||s.undefined(n.originSelectionRange))}t.is=i})(gt||(gt={}));var Q;(function(t){function r(e,n,o,a){return{red:e,green:n,blue:o,alpha:a}}t.create=r;function i(e){const n=e;return s.objectLiteral(n)&&s.numberRange(n.red,0,1)&&s.numberRange(n.green,0,1)&&s.numberRange(n.blue,0,1)&&s.numberRange(n.alpha,0,1)}t.is=i})(Q||(Q={}));var ft;(function(t){function r(e,n){return{range:e,color:n}}t.create=r;function i(e){const n=e;return s.objectLiteral(n)&&p.is(n.range)&&Q.is(n.color)}t.is=i})(ft||(ft={}));var ht;(function(t){function r(e,n,o){return{label:e,textEdit:n,additionalTextEdits:o}}t.create=r;function i(e){const n=e;return s.objectLiteral(n)&&s.string(n.label)&&(s.undefined(n.textEdit)||M.is(n))&&(s.undefined(n.additionalTextEdits)||s.typedArray(n.additionalTextEdits,M.is))}t.is=i})(ht||(ht={}));var N;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(N||(N={}));var mt;(function(t){function r(e,n,o,a,c,f){const u={startLine:e,endLine:n};return s.defined(o)&&(u.startCharacter=o),s.defined(a)&&(u.endCharacter=a),s.defined(c)&&(u.kind=c),s.defined(f)&&(u.collapsedText=f),u}t.create=r;function i(e){const n=e;return s.objectLiteral(n)&&s.uinteger(n.startLine)&&s.uinteger(n.startLine)&&(s.undefined(n.startCharacter)||s.uinteger(n.startCharacter))&&(s.undefined(n.endCharacter)||s.uinteger(n.endCharacter))&&(s.undefined(n.kind)||s.string(n.kind))}t.is=i})(mt||(mt={}));var J;(function(t){function r(e,n){return{location:e,message:n}}t.create=r;function i(e){let n=e;return s.defined(n)&&W.is(n.location)&&s.string(n.message)}t.is=i})(J||(J={}));var L;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(L||(L={}));var pt;(function(t){t.Unnecessary=1,t.Deprecated=2})(pt||(pt={}));var vt;(function(t){function r(i){const e=i;return s.objectLiteral(e)&&s.string(e.href)}t.is=r})(vt||(vt={}));var K;(function(t){function r(e,n,o,a,c,f){let u={range:e,message:n};return s.defined(o)&&(u.severity=o),s.defined(a)&&(u.code=a),s.defined(c)&&(u.source=c),s.defined(f)&&(u.relatedInformation=f),u}t.create=r;function i(e){var n;let o=e;return s.defined(o)&&p.is(o.range)&&s.string(o.message)&&(s.number(o.severity)||s.undefined(o.severity))&&(s.integer(o.code)||s.string(o.code)||s.undefined(o.code))&&(s.undefined(o.codeDescription)||s.string((n=o.codeDescription)===null||n===void 0?void 0:n.href))&&(s.string(o.source)||s.undefined(o.source))&&(s.undefined(o.relatedInformation)||s.typedArray(o.relatedInformation,J.is))}t.is=i})(K||(K={}));var R;(function(t){function r(e,n,...o){let a={title:e,command:n};return s.defined(o)&&o.length>0&&(a.arguments=o),a}t.create=r;function i(e){let n=e;return s.defined(n)&&s.string(n.title)&&s.string(n.command)}t.is=i})(R||(R={}));var M;(function(t){function r(o,a){return{range:o,newText:a}}t.replace=r;function i(o,a){return{range:{start:o,end:o},newText:a}}t.insert=i;function e(o){return{range:o,newText:""}}t.del=e;function n(o){const a=o;return s.objectLiteral(a)&&s.string(a.newText)&&p.is(a.range)}t.is=n})(M||(M={}));var G;(function(t){function r(e,n,o){const a={label:e};return n!==void 0&&(a.needsConfirmation=n),o!==void 0&&(a.description=o),a}t.create=r;function i(e){const n=e;return s.objectLiteral(n)&&s.string(n.label)&&(s.boolean(n.needsConfirmation)||n.needsConfirmation===void 0)&&(s.string(n.description)||n.description===void 0)}t.is=i})(G||(G={}));var F;(function(t){function r(i){const e=i;return s.string(e)}t.is=r})(F||(F={}));var bt;(function(t){function r(o,a,c){return{range:o,newText:a,annotationId:c}}t.replace=r;function i(o,a,c){return{range:{start:o,end:o},newText:a,annotationId:c}}t.insert=i;function e(o,a){return{range:o,newText:"",annotationId:a}}t.del=e;function n(o){const a=o;return M.is(a)&&(G.is(a.annotationId)||F.is(a.annotationId))}t.is=n})(bt||(bt={}));var Y;(function(t){function r(e,n){return{textDocument:e,edits:n}}t.create=r;function i(e){let n=e;return s.defined(n)&&rt.is(n.textDocument)&&Array.isArray(n.edits)}t.is=i})(Y||(Y={}));var Z;(function(t){function r(e,n,o){let a={kind:"create",uri:e};return n!==void 0&&(n.overwrite!==void 0||n.ignoreIfExists!==void 0)&&(a.options=n),o!==void 0&&(a.annotationId=o),a}t.create=r;function i(e){let n=e;return n&&n.kind==="create"&&s.string(n.uri)&&(n.options===void 0||(n.options.overwrite===void 0||s.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||s.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||F.is(n.annotationId))}t.is=i})(Z||(Z={}));var tt;(function(t){function r(e,n,o,a){let c={kind:"rename",oldUri:e,newUri:n};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}t.create=r;function i(e){let n=e;return n&&n.kind==="rename"&&s.string(n.oldUri)&&s.string(n.newUri)&&(n.options===void 0||(n.options.overwrite===void 0||s.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||s.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||F.is(n.annotationId))}t.is=i})(tt||(tt={}));var nt;(function(t){function r(e,n,o){let a={kind:"delete",uri:e};return n!==void 0&&(n.recursive!==void 0||n.ignoreIfNotExists!==void 0)&&(a.options=n),o!==void 0&&(a.annotationId=o),a}t.create=r;function i(e){let n=e;return n&&n.kind==="delete"&&s.string(n.uri)&&(n.options===void 0||(n.options.recursive===void 0||s.boolean(n.options.recursive))&&(n.options.ignoreIfNotExists===void 0||s.boolean(n.options.ignoreIfNotExists)))&&(n.annotationId===void 0||F.is(n.annotationId))}t.is=i})(nt||(nt={}));var et;(function(t){function r(i){let e=i;return e&&(e.changes!==void 0||e.documentChanges!==void 0)&&(e.documentChanges===void 0||e.documentChanges.every(n=>s.string(n.kind)?Z.is(n)||tt.is(n)||nt.is(n):Y.is(n)))}t.is=r})(et||(et={}));var kt;(function(t){function r(e){return{uri:e}}t.create=r;function i(e){let n=e;return s.defined(n)&&s.string(n.uri)}t.is=i})(kt||(kt={}));var Ct;(function(t){function r(e,n){return{uri:e,version:n}}t.create=r;function i(e){let n=e;return s.defined(n)&&s.string(n.uri)&&s.integer(n.version)}t.is=i})(Ct||(Ct={}));var rt;(function(t){function r(e,n){return{uri:e,version:n}}t.create=r;function i(e){let n=e;return s.defined(n)&&s.string(n.uri)&&(n.version===null||s.integer(n.version))}t.is=i})(rt||(rt={}));var _t;(function(t){function r(e,n,o,a){return{uri:e,languageId:n,version:o,text:a}}t.create=r;function i(e){let n=e;return s.defined(n)&&s.string(n.uri)&&s.string(n.languageId)&&s.integer(n.version)&&s.string(n.text)}t.is=i})(_t||(_t={}));var it;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function r(i){const e=i;return e===t.PlainText||e===t.Markdown}t.is=r})(it||(it={}));var U;(function(t){function r(i){const e=i;return s.objectLiteral(i)&&it.is(e.kind)&&s.string(e.value)}t.is=r})(U||(U={}));var v;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(v||(v={}));var ot;(function(t){t.PlainText=1,t.Snippet=2})(ot||(ot={}));var wt;(function(t){t.Deprecated=1})(wt||(wt={}));var yt;(function(t){function r(e,n,o){return{newText:e,insert:n,replace:o}}t.create=r;function i(e){const n=e;return n&&s.string(n.newText)&&p.is(n.insert)&&p.is(n.replace)}t.is=i})(yt||(yt={}));var xt;(function(t){t.asIs=1,t.adjustIndentation=2})(xt||(xt={}));var It;(function(t){function r(i){const e=i;return e&&(s.string(e.detail)||e.detail===void 0)&&(s.string(e.description)||e.description===void 0)}t.is=r})(It||(It={}));var Et;(function(t){function r(i){return{label:i}}t.create=r})(Et||(Et={}));var At;(function(t){function r(i,e){return{items:i||[],isIncomplete:!!e}}t.create=r})(At||(At={}));var H;(function(t){function r(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=r;function i(e){const n=e;return s.string(n)||s.objectLiteral(n)&&s.string(n.language)&&s.string(n.value)}t.is=i})(H||(H={}));var St;(function(t){function r(i){let e=i;return!!e&&s.objectLiteral(e)&&(U.is(e.contents)||H.is(e.contents)||s.typedArray(e.contents,H.is))&&(i.range===void 0||p.is(i.range))}t.is=r})(St||(St={}));var Tt;(function(t){function r(i,e){return e?{label:i,documentation:e}:{label:i}}t.create=r})(Tt||(Tt={}));var Lt;(function(t){function r(i,e,...n){let o={label:i};return s.defined(e)&&(o.documentation=e),s.defined(n)?o.parameters=n:o.parameters=[],o}t.create=r})(Lt||(Lt={}));var O;(function(t){t.Text=1,t.Read=2,t.Write=3})(O||(O={}));var Rt;(function(t){function r(i,e){let n={range:i};return s.number(e)&&(n.kind=e),n}t.create=r})(Rt||(Rt={}));var b;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(b||(b={}));var Mt;(function(t){t.Deprecated=1})(Mt||(Mt={}));var Ft;(function(t){function r(i,e,n,o,a){let c={name:i,kind:e,location:{uri:o,range:n}};return a&&(c.containerName=a),c}t.create=r})(Ft||(Ft={}));var Pt;(function(t){function r(i,e,n,o){return o!==void 0?{name:i,kind:e,location:{uri:n,range:o}}:{name:i,kind:e,location:{uri:n}}}t.create=r})(Pt||(Pt={}));var jt;(function(t){function r(e,n,o,a,c,f){let u={name:e,detail:n,kind:o,range:a,selectionRange:c};return f!==void 0&&(u.children=f),u}t.create=r;function i(e){let n=e;return n&&s.string(n.name)&&s.number(n.kind)&&p.is(n.range)&&p.is(n.selectionRange)&&(n.detail===void 0||s.string(n.detail))&&(n.deprecated===void 0||s.boolean(n.deprecated))&&(n.children===void 0||Array.isArray(n.children))&&(n.tags===void 0||Array.isArray(n.tags))}t.is=i})(jt||(jt={}));var Dt;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Dt||(Dt={}));var X;(function(t){t.Invoked=1,t.Automatic=2})(X||(X={}));var Nt;(function(t){function r(e,n,o){let a={diagnostics:e};return n!=null&&(a.only=n),o!=null&&(a.triggerKind=o),a}t.create=r;function i(e){let n=e;return s.defined(n)&&s.typedArray(n.diagnostics,K.is)&&(n.only===void 0||s.typedArray(n.only,s.string))&&(n.triggerKind===void 0||n.triggerKind===X.Invoked||n.triggerKind===X.Automatic)}t.is=i})(Nt||(Nt={}));var Ot;(function(t){function r(e,n,o){let a={title:e},c=!0;return typeof n=="string"?(c=!1,a.kind=n):R.is(n)?a.command=n:a.edit=n,c&&o!==void 0&&(a.kind=o),a}t.create=r;function i(e){let n=e;return n&&s.string(n.title)&&(n.diagnostics===void 0||s.typedArray(n.diagnostics,K.is))&&(n.kind===void 0||s.string(n.kind))&&(n.edit!==void 0||n.command!==void 0)&&(n.command===void 0||R.is(n.command))&&(n.isPreferred===void 0||s.boolean(n.isPreferred))&&(n.edit===void 0||et.is(n.edit))}t.is=i})(Ot||(Ot={}));var Ut;(function(t){function r(e,n){let o={range:e};return s.defined(n)&&(o.data=n),o}t.create=r;function i(e){let n=e;return s.defined(n)&&p.is(n.range)&&(s.undefined(n.command)||R.is(n.command))}t.is=i})(Ut||(Ut={}));var Vt;(function(t){function r(e,n){return{tabSize:e,insertSpaces:n}}t.create=r;function i(e){let n=e;return s.defined(n)&&s.uinteger(n.tabSize)&&s.boolean(n.insertSpaces)}t.is=i})(Vt||(Vt={}));var Bt;(function(t){function r(e,n,o){return{range:e,target:n,data:o}}t.create=r;function i(e){let n=e;return s.defined(n)&&p.is(n.range)&&(s.undefined(n.target)||s.string(n.target))}t.is=i})(Bt||(Bt={}));var Wt;(function(t){function r(e,n){return{range:e,parent:n}}t.create=r;function i(e){let n=e;return s.objectLiteral(n)&&p.is(n.range)&&(n.parent===void 0||t.is(n.parent))}t.is=i})(Wt||(Wt={}));var Kt;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(Kt||(Kt={}));var Ht;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Ht||(Ht={}));var Xt;(function(t){function r(i){const e=i;return s.objectLiteral(e)&&(e.resultId===void 0||typeof e.resultId=="string")&&Array.isArray(e.data)&&(e.data.length===0||typeof e.data[0]=="number")}t.is=r})(Xt||(Xt={}));var zt;(function(t){function r(e,n){return{range:e,text:n}}t.create=r;function i(e){const n=e;return n!=null&&p.is(n.range)&&s.string(n.text)}t.is=i})(zt||(zt={}));var qt;(function(t){function r(e,n,o){return{range:e,variableName:n,caseSensitiveLookup:o}}t.create=r;function i(e){const n=e;return n!=null&&p.is(n.range)&&s.boolean(n.caseSensitiveLookup)&&(s.string(n.variableName)||n.variableName===void 0)}t.is=i})(qt||(qt={}));var $t;(function(t){function r(e,n){return{range:e,expression:n}}t.create=r;function i(e){const n=e;return n!=null&&p.is(n.range)&&(s.string(n.expression)||n.expression===void 0)}t.is=i})($t||($t={}));var Qt;(function(t){function r(e,n){return{frameId:e,stoppedLocation:n}}t.create=r;function i(e){const n=e;return s.defined(n)&&p.is(e.stoppedLocation)}t.is=i})(Qt||(Qt={}));var at;(function(t){t.Type=1,t.Parameter=2;function r(i){return i===1||i===2}t.is=r})(at||(at={}));var st;(function(t){function r(e){return{value:e}}t.create=r;function i(e){const n=e;return s.objectLiteral(n)&&(n.tooltip===void 0||s.string(n.tooltip)||U.is(n.tooltip))&&(n.location===void 0||W.is(n.location))&&(n.command===void 0||R.is(n.command))}t.is=i})(st||(st={}));var Jt;(function(t){function r(e,n,o){const a={position:e,label:n};return o!==void 0&&(a.kind=o),a}t.create=r;function i(e){const n=e;return s.objectLiteral(n)&&E.is(n.position)&&(s.string(n.label)||s.typedArray(n.label,st.is))&&(n.kind===void 0||at.is(n.kind))&&n.textEdits===void 0||s.typedArray(n.textEdits,M.is)&&(n.tooltip===void 0||s.string(n.tooltip)||U.is(n.tooltip))&&(n.paddingLeft===void 0||s.boolean(n.paddingLeft))&&(n.paddingRight===void 0||s.boolean(n.paddingRight))}t.is=i})(Jt||(Jt={}));var Gt;(function(t){function r(i){return{kind:"snippet",value:i}}t.createSnippet=r})(Gt||(Gt={}));var Yt;(function(t){function r(i,e,n,o){return{insertText:i,filterText:e,range:n,command:o}}t.create=r})(Yt||(Yt={}));var Zt;(function(t){function r(i){return{items:i}}t.create=r})(Zt||(Zt={}));var tn;(function(t){t.Invoked=0,t.Automatic=1})(tn||(tn={}));var nn;(function(t){function r(i,e){return{range:i,text:e}}t.create=r})(nn||(nn={}));var en;(function(t){function r(i,e){return{triggerKind:i,selectedCompletionInfo:e}}t.create=r})(en||(en={}));var rn;(function(t){function r(i){const e=i;return s.objectLiteral(e)&&$.is(e.uri)&&s.string(e.name)}t.is=r})(rn||(rn={}));var on;(function(t){function r(o,a,c,f){return new Pn(o,a,c,f)}t.create=r;function i(o){let a=o;return!!(s.defined(a)&&s.string(a.uri)&&(s.undefined(a.languageId)||s.string(a.languageId))&&s.uinteger(a.lineCount)&&s.func(a.getText)&&s.func(a.positionAt)&&s.func(a.offsetAt))}t.is=i;function e(o,a){let c=o.getText(),f=n(a,(m,g)=>{let k=m.range.start.line-g.range.start.line;return k===0?m.range.start.character-g.range.start.character:k}),u=c.length;for(let m=f.length-1;m>=0;m--){let g=f[m],k=o.offsetAt(g.range.start),h=o.offsetAt(g.range.end);if(h<=u)c=c.substring(0,k)+g.newText+c.substring(h,c.length);else throw new Error("Overlapping edit");u=k}return c}t.applyEdits=e;function n(o,a){if(o.length<=1)return o;const c=o.length/2|0,f=o.slice(0,c),u=o.slice(c);n(f,a),n(u,a);let m=0,g=0,k=0;for(;m<f.length&&g<u.length;)a(f[m],u[g])<=0?o[k++]=f[m++]:o[k++]=u[g++];for(;m<f.length;)o[k++]=f[m++];for(;g<u.length;)o[k++]=u[g++];return o}})(on||(on={}));var Pn=class{constructor(t,r,i,e){this._uri=t,this._languageId=r,this._version=i,this._content=e,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),i=this.offsetAt(t.end);return this._content.substring(r,i)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,i=!0;for(let e=0;e<r.length;e++){i&&(t.push(e),i=!1);let n=r.charAt(e);i=n==="\r"||n===`
`,n==="\r"&&e+1<r.length&&r.charAt(e+1)===`
`&&e++}i&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),i=0,e=r.length;if(e===0)return E.create(0,t);for(;i<e;){let o=Math.floor((i+e)/2);r[o]>t?e=o:i=o+1}let n=i-1;return E.create(n,t-r[n])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let i=r[t.line],e=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(i+t.character,e),i)}get lineCount(){return this.getLineOffsets().length}},s;(function(t){const r=Object.prototype.toString;function i(h){return typeof h<"u"}t.defined=i;function e(h){return typeof h>"u"}t.undefined=e;function n(h){return h===!0||h===!1}t.boolean=n;function o(h){return r.call(h)==="[object String]"}t.string=o;function a(h){return r.call(h)==="[object Number]"}t.number=a;function c(h,P,z){return r.call(h)==="[object Number]"&&P<=h&&h<=z}t.numberRange=c;function f(h){return r.call(h)==="[object Number]"&&-2147483648<=h&&h<=2147483647}t.integer=f;function u(h){return r.call(h)==="[object Number]"&&0<=h&&h<=2147483647}t.uinteger=u;function m(h){return r.call(h)==="[object Function]"}t.func=m;function g(h){return h!==null&&typeof h=="object"}t.objectLiteral=g;function k(h,P){return Array.isArray(h)&&h.every(P)}t.typedArray=k})(s||(s={}));var jn=class{constructor(t,r,i){this._languageId=t,this._worker=r,this._disposables=[],this._listener=Object.create(null);const e=o=>{let a=o.getLanguageId();if(a!==this._languageId)return;let c;this._listener[o.uri.toString()]=o.onDidChangeContent(()=>{window.clearTimeout(c),c=window.setTimeout(()=>this._doValidate(o.uri,a),500)}),this._doValidate(o.uri,a)},n=o=>{l.editor.setModelMarkers(o,this._languageId,[]);let a=o.uri.toString(),c=this._listener[a];c&&(c.dispose(),delete this._listener[a])};this._disposables.push(l.editor.onDidCreateModel(e)),this._disposables.push(l.editor.onWillDisposeModel(n)),this._disposables.push(l.editor.onDidChangeModelLanguage(o=>{n(o.model),e(o.model)})),this._disposables.push(i(o=>{l.editor.getModels().forEach(a=>{a.getLanguageId()===this._languageId&&(n(a),e(a))})})),this._disposables.push({dispose:()=>{l.editor.getModels().forEach(n);for(let o in this._listener)this._listener[o].dispose()}}),l.editor.getModels().forEach(e)}dispose(){this._disposables.forEach(t=>t&&t.dispose()),this._disposables.length=0}_doValidate(t,r){this._worker(t).then(i=>i.doValidation(t.toString())).then(i=>{const e=i.map(o=>Nn(t,o));let n=l.editor.getModel(t);n&&n.getLanguageId()===r&&l.editor.setModelMarkers(n,r,e)}).then(void 0,i=>{console.error(i)})}};function Dn(t){switch(t){case L.Error:return l.MarkerSeverity.Error;case L.Warning:return l.MarkerSeverity.Warning;case L.Information:return l.MarkerSeverity.Info;case L.Hint:return l.MarkerSeverity.Hint;default:return l.MarkerSeverity.Info}}function Nn(t,r){let i=typeof r.code=="number"?String(r.code):r.code;return{severity:Dn(r.severity),startLineNumber:r.range.start.line+1,startColumn:r.range.start.character+1,endLineNumber:r.range.end.line+1,endColumn:r.range.end.character+1,message:r.message,code:i,source:r.source}}var On=class{constructor(t,r){this._worker=t,this._triggerCharacters=r}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(t,r,i,e){const n=t.uri;return this._worker(n).then(o=>o.doComplete(n.toString(),A(r))).then(o=>{if(!o)return;const a=t.getWordUntilPosition(r),c=new l.Range(r.lineNumber,a.startColumn,r.lineNumber,a.endColumn),f=o.items.map(u=>{const m={label:u.label,insertText:u.insertText||u.label,sortText:u.sortText,filterText:u.filterText,documentation:u.documentation,detail:u.detail,command:Bn(u.command),range:c,kind:Vn(u.kind)};return u.textEdit&&(Un(u.textEdit)?m.range={insert:C(u.textEdit.insert),replace:C(u.textEdit.replace)}:m.range=C(u.textEdit.range),m.insertText=u.textEdit.newText),u.additionalTextEdits&&(m.additionalTextEdits=u.additionalTextEdits.map(V)),u.insertTextFormat===ot.Snippet&&(m.insertTextRules=l.languages.CompletionItemInsertTextRule.InsertAsSnippet),m});return{isIncomplete:o.isIncomplete,suggestions:f}})}};function A(t){if(t)return{character:t.column-1,line:t.lineNumber-1}}function mn(t){if(t)return{start:{line:t.startLineNumber-1,character:t.startColumn-1},end:{line:t.endLineNumber-1,character:t.endColumn-1}}}function C(t){if(t)return new l.Range(t.start.line+1,t.start.character+1,t.end.line+1,t.end.character+1)}function Un(t){return typeof t.insert<"u"&&typeof t.replace<"u"}function Vn(t){const r=l.languages.CompletionItemKind;switch(t){case v.Text:return r.Text;case v.Method:return r.Method;case v.Function:return r.Function;case v.Constructor:return r.Constructor;case v.Field:return r.Field;case v.Variable:return r.Variable;case v.Class:return r.Class;case v.Interface:return r.Interface;case v.Module:return r.Module;case v.Property:return r.Property;case v.Unit:return r.Unit;case v.Value:return r.Value;case v.Enum:return r.Enum;case v.Keyword:return r.Keyword;case v.Snippet:return r.Snippet;case v.Color:return r.Color;case v.File:return r.File;case v.Reference:return r.Reference}return r.Property}function V(t){if(t)return{range:C(t.range),text:t.newText}}function Bn(t){return t&&t.command==="editor.action.triggerSuggest"?{id:t.command,title:t.title,arguments:t.arguments}:void 0}var Wn=class{constructor(t){this._worker=t}provideHover(t,r,i){let e=t.uri;return this._worker(e).then(n=>n.doHover(e.toString(),A(r))).then(n=>{if(n)return{range:C(n.range),contents:Hn(n.contents)}})}};function Kn(t){return t&&typeof t=="object"&&typeof t.kind=="string"}function an(t){return typeof t=="string"?{value:t}:Kn(t)?t.kind==="plaintext"?{value:t.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:t.value}:{value:"```"+t.language+`
`+t.value+"\n```\n"}}function Hn(t){if(t)return Array.isArray(t)?t.map(an):[an(t)]}var ve=class{constructor(t){this._worker=t}provideDocumentHighlights(t,r,i){const e=t.uri;return this._worker(e).then(n=>n.findDocumentHighlights(e.toString(),A(r))).then(n=>{if(n)return n.map(o=>({range:C(o.range),kind:Xn(o.kind)}))})}};function Xn(t){switch(t){case O.Read:return l.languages.DocumentHighlightKind.Read;case O.Write:return l.languages.DocumentHighlightKind.Write;case O.Text:return l.languages.DocumentHighlightKind.Text}return l.languages.DocumentHighlightKind.Text}var be=class{constructor(t){this._worker=t}provideDefinition(t,r,i){const e=t.uri;return this._worker(e).then(n=>n.findDefinition(e.toString(),A(r))).then(n=>{if(n)return[pn(n)]})}};function pn(t){return{uri:l.Uri.parse(t.uri),range:C(t.range)}}var ke=class{constructor(t){this._worker=t}provideReferences(t,r,i,e){const n=t.uri;return this._worker(n).then(o=>o.findReferences(n.toString(),A(r))).then(o=>{if(o)return o.map(pn)})}},Ce=class{constructor(t){this._worker=t}provideRenameEdits(t,r,i,e){const n=t.uri;return this._worker(n).then(o=>o.doRename(n.toString(),A(r),i)).then(o=>zn(o))}};function zn(t){if(!t||!t.changes)return;let r=[];for(let i in t.changes){const e=l.Uri.parse(i);for(let n of t.changes[i])r.push({resource:e,versionId:void 0,textEdit:{range:C(n.range),text:n.newText}})}return{edits:r}}var qn=class{constructor(t){this._worker=t}provideDocumentSymbols(t,r){const i=t.uri;return this._worker(i).then(e=>e.findDocumentSymbols(i.toString())).then(e=>{if(e)return e.map(n=>$n(n)?vn(n):{name:n.name,detail:"",containerName:n.containerName,kind:bn(n.kind),range:C(n.location.range),selectionRange:C(n.location.range),tags:[]})})}};function $n(t){return"children"in t}function vn(t){return{name:t.name,detail:t.detail??"",kind:bn(t.kind),range:C(t.range),selectionRange:C(t.selectionRange),tags:t.tags??[],children:(t.children??[]).map(r=>vn(r))}}function bn(t){let r=l.languages.SymbolKind;switch(t){case b.File:return r.File;case b.Module:return r.Module;case b.Namespace:return r.Namespace;case b.Package:return r.Package;case b.Class:return r.Class;case b.Method:return r.Method;case b.Property:return r.Property;case b.Field:return r.Field;case b.Constructor:return r.Constructor;case b.Enum:return r.Enum;case b.Interface:return r.Interface;case b.Function:return r.Function;case b.Variable:return r.Variable;case b.Constant:return r.Constant;case b.String:return r.String;case b.Number:return r.Number;case b.Boolean:return r.Boolean;case b.Array:return r.Array}return r.Function}var _e=class{constructor(t){this._worker=t}provideLinks(t,r){const i=t.uri;return this._worker(i).then(e=>e.findDocumentLinks(i.toString())).then(e=>{if(e)return{links:e.map(n=>({range:C(n.range),url:n.target}))}})}},Qn=class{constructor(t){this._worker=t}provideDocumentFormattingEdits(t,r,i){const e=t.uri;return this._worker(e).then(n=>n.format(e.toString(),null,kn(r)).then(o=>{if(!(!o||o.length===0))return o.map(V)}))}},Jn=class{constructor(t){this._worker=t,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(t,r,i,e){const n=t.uri;return this._worker(n).then(o=>o.format(n.toString(),mn(r),kn(i)).then(a=>{if(!(!a||a.length===0))return a.map(V)}))}};function kn(t){return{tabSize:t.tabSize,insertSpaces:t.insertSpaces}}var Gn=class{constructor(t){this._worker=t}provideDocumentColors(t,r){const i=t.uri;return this._worker(i).then(e=>e.findDocumentColors(i.toString())).then(e=>{if(e)return e.map(n=>({color:n.color,range:C(n.range)}))})}provideColorPresentations(t,r,i){const e=t.uri;return this._worker(e).then(n=>n.getColorPresentations(e.toString(),r.color,mn(r.range))).then(n=>{if(n)return n.map(o=>{let a={label:o.label};return o.textEdit&&(a.textEdit=V(o.textEdit)),o.additionalTextEdits&&(a.additionalTextEdits=o.additionalTextEdits.map(V)),a})})}},Yn=class{constructor(t){this._worker=t}provideFoldingRanges(t,r,i){const e=t.uri;return this._worker(e).then(n=>n.getFoldingRanges(e.toString(),r)).then(n=>{if(n)return n.map(o=>{const a={start:o.startLine+1,end:o.endLine+1};return typeof o.kind<"u"&&(a.kind=Zn(o.kind)),a})})}};function Zn(t){switch(t){case N.Comment:return l.languages.FoldingRangeKind.Comment;case N.Imports:return l.languages.FoldingRangeKind.Imports;case N.Region:return l.languages.FoldingRangeKind.Region}}var te=class{constructor(t){this._worker=t}provideSelectionRanges(t,r,i){const e=t.uri;return this._worker(e).then(n=>n.getSelectionRanges(e.toString(),r.map(A))).then(n=>{if(n)return n.map(o=>{const a=[];for(;o;)a.push({range:C(o.range)}),o=o.parent;return a})})}};function ne(t,r=!1){const i=t.length;let e=0,n="",o=0,a=16,c=0,f=0,u=0,m=0,g=0;function k(d,w){let I=0,_=0;for(;I<d||!w;){let y=t.charCodeAt(e);if(y>=48&&y<=57)_=_*16+y-48;else if(y>=65&&y<=70)_=_*16+y-65+10;else if(y>=97&&y<=102)_=_*16+y-97+10;else break;e++,I++}return I<d&&(_=-1),_}function h(d){e=d,n="",o=0,a=16,g=0}function P(){let d=e;if(t.charCodeAt(e)===48)e++;else for(e++;e<t.length&&S(t.charCodeAt(e));)e++;if(e<t.length&&t.charCodeAt(e)===46)if(e++,e<t.length&&S(t.charCodeAt(e)))for(e++;e<t.length&&S(t.charCodeAt(e));)e++;else return g=3,t.substring(d,e);let w=e;if(e<t.length&&(t.charCodeAt(e)===69||t.charCodeAt(e)===101))if(e++,(e<t.length&&t.charCodeAt(e)===43||t.charCodeAt(e)===45)&&e++,e<t.length&&S(t.charCodeAt(e))){for(e++;e<t.length&&S(t.charCodeAt(e));)e++;w=e}else g=3;return t.substring(d,w)}function z(){let d="",w=e;for(;;){if(e>=i){d+=t.substring(w,e),g=2;break}const I=t.charCodeAt(e);if(I===34){d+=t.substring(w,e),e++;break}if(I===92){if(d+=t.substring(w,e),e++,e>=i){g=2;break}switch(t.charCodeAt(e++)){case 34:d+='"';break;case 92:d+="\\";break;case 47:d+="/";break;case 98:d+="\b";break;case 102:d+="\f";break;case 110:d+=`
`;break;case 114:d+="\r";break;case 116:d+="	";break;case 117:const _=k(4,!0);_>=0?d+=String.fromCharCode(_):g=4;break;default:g=5}w=e;continue}if(I>=0&&I<=31)if(j(I)){d+=t.substring(w,e),g=2;break}else g=6;e++}return d}function ut(){if(n="",g=0,o=e,f=c,m=u,e>=i)return o=i,a=17;let d=t.charCodeAt(e);if(q(d)){do e++,n+=String.fromCharCode(d),d=t.charCodeAt(e);while(q(d));return a=15}if(j(d))return e++,n+=String.fromCharCode(d),d===13&&t.charCodeAt(e)===10&&(e++,n+=`
`),c++,u=e,a=14;switch(d){case 123:return e++,a=1;case 125:return e++,a=2;case 91:return e++,a=3;case 93:return e++,a=4;case 58:return e++,a=6;case 44:return e++,a=5;case 34:return e++,n=z(),a=10;case 47:const w=e-1;if(t.charCodeAt(e+1)===47){for(e+=2;e<i&&!j(t.charCodeAt(e));)e++;return n=t.substring(w,e),a=12}if(t.charCodeAt(e+1)===42){e+=2;const I=i-1;let _=!1;for(;e<I;){const y=t.charCodeAt(e);if(y===42&&t.charCodeAt(e+1)===47){e+=2,_=!0;break}e++,j(y)&&(y===13&&t.charCodeAt(e)===10&&e++,c++,u=e)}return _||(e++,g=1),n=t.substring(w,e),a=13}return n+=String.fromCharCode(d),e++,a=16;case 45:if(n+=String.fromCharCode(d),e++,e===i||!S(t.charCodeAt(e)))return a=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n+=P(),a=11;default:for(;e<i&&yn(d);)e++,d=t.charCodeAt(e);if(o!==e){switch(n=t.substring(o,e),n){case"true":return a=8;case"false":return a=9;case"null":return a=7}return a=16}return n+=String.fromCharCode(d),e++,a=16}}function yn(d){if(q(d)||j(d))return!1;switch(d){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function xn(){let d;do d=ut();while(d>=12&&d<=15);return d}return{setPosition:h,getPosition:()=>e,scan:r?xn:ut,getToken:()=>a,getTokenValue:()=>n,getTokenOffset:()=>o,getTokenLength:()=>e-o,getTokenStartLine:()=>f,getTokenStartCharacter:()=>o-m,getTokenError:()=>g}}function q(t){return t===32||t===9}function j(t){return t===10||t===13}function S(t){return t>=48&&t<=57}var sn;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(sn||(sn={}));new Array(20).fill(0).map((t,r)=>" ".repeat(r));var T=200;new Array(T).fill(0).map((t,r)=>`
`+" ".repeat(r)),new Array(T).fill(0).map((t,r)=>"\r"+" ".repeat(r)),new Array(T).fill(0).map((t,r)=>`\r
`+" ".repeat(r)),new Array(T).fill(0).map((t,r)=>`
`+"	".repeat(r)),new Array(T).fill(0).map((t,r)=>"\r"+"	".repeat(r)),new Array(T).fill(0).map((t,r)=>`\r
`+"	".repeat(r));var cn;(function(t){t.DEFAULT={allowTrailingComma:!1}})(cn||(cn={}));var ee=ne,un;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(un||(un={}));var dn;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(dn||(dn={}));var ln;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(ln||(ln={}));function re(t){return{getInitialState:()=>new _n(null,null,!1,null),tokenize:(r,i)=>fe(t,r,i)}}var gn="delimiter.bracket.json",fn="delimiter.array.json",ie="delimiter.colon.json",oe="delimiter.comma.json",ae="keyword.json",se="keyword.json",ce="string.value.json",ue="number.json",de="string.key.json",le="comment.block.json",ge="comment.line.json",D=class Cn{constructor(r,i){this.parent=r,this.type=i}static pop(r){return r?r.parent:null}static push(r,i){return new Cn(r,i)}static equals(r,i){if(!r&&!i)return!0;if(!r||!i)return!1;for(;r&&i;){if(r===i)return!0;if(r.type!==i.type)return!1;r=r.parent,i=i.parent}return!0}},_n=class ct{constructor(r,i,e,n){this._state=r,this.scanError=i,this.lastWasColon=e,this.parents=n}clone(){return new ct(this._state,this.scanError,this.lastWasColon,this.parents)}equals(r){return r===this?!0:!r||!(r instanceof ct)?!1:this.scanError===r.scanError&&this.lastWasColon===r.lastWasColon&&D.equals(this.parents,r.parents)}getStateData(){return this._state}setStateData(r){this._state=r}};function fe(t,r,i,e=0){let n=0,o=!1;switch(i.scanError){case 2:r='"'+r,n=1;break;case 1:r="/*"+r,n=2;break}const a=ee(r);let c=i.lastWasColon,f=i.parents;const u={tokens:[],endState:i.clone()};for(;;){let m=e+a.getPosition(),g="";const k=a.scan();if(k===17)break;if(m===e+a.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+r.substr(a.getPosition(),3));switch(o&&(m-=n),o=n>0,k){case 1:f=D.push(f,0),g=gn,c=!1;break;case 2:f=D.pop(f),g=gn,c=!1;break;case 3:f=D.push(f,1),g=fn,c=!1;break;case 4:f=D.pop(f),g=fn,c=!1;break;case 6:g=ie,c=!0;break;case 5:g=oe,c=!1;break;case 8:case 9:g=ae,c=!1;break;case 7:g=se,c=!1;break;case 10:const h=(f?f.type:0)===1;g=c||h?ce:de,c=!1;break;case 11:g=ue,c=!1;break}switch(k){case 12:g=ge;break;case 13:g=le;break}u.endState=new _n(i.getStateData(),a.getTokenError(),c,f),u.tokens.push({startIndex:m,scopes:g})}return u}var x;function we(){return new Promise((t,r)=>{if(!x)return r("JSON not registered!");t(x)})}var he=class extends jn{constructor(t,r,i){super(t,r,i.onDidChange),this._disposables.push(l.editor.onWillDisposeModel(e=>{this._resetSchema(e.uri)})),this._disposables.push(l.editor.onDidChangeModelLanguage(e=>{this._resetSchema(e.model.uri)}))}_resetSchema(t){this._worker().then(r=>{r.resetSchema(t.toString())})}};function ye(t){const r=[],i=[],e=new Fn(t);r.push(e),x=(...a)=>e.getLanguageServiceWorker(...a);function n(){const{languageId:a,modeConfiguration:c}=t;wn(i),c.documentFormattingEdits&&i.push(l.languages.registerDocumentFormattingEditProvider(a,new Qn(x))),c.documentRangeFormattingEdits&&i.push(l.languages.registerDocumentRangeFormattingEditProvider(a,new Jn(x))),c.completionItems&&i.push(l.languages.registerCompletionItemProvider(a,new On(x,[" ",":",'"']))),c.hovers&&i.push(l.languages.registerHoverProvider(a,new Wn(x))),c.documentSymbols&&i.push(l.languages.registerDocumentSymbolProvider(a,new qn(x))),c.tokens&&i.push(l.languages.setTokensProvider(a,re(!0))),c.colors&&i.push(l.languages.registerColorProvider(a,new Gn(x))),c.foldingRanges&&i.push(l.languages.registerFoldingRangeProvider(a,new Yn(x))),c.diagnostics&&i.push(new he(a,x,t)),c.selectionRanges&&i.push(l.languages.registerSelectionRangeProvider(a,new te(x)))}n(),r.push(l.languages.setLanguageConfiguration(t.languageId,me));let o=t.modeConfiguration;return t.onDidChange(a=>{a.modeConfiguration!==o&&(o=a.modeConfiguration,n())}),r.push(hn(i)),hn(r)}function hn(t){return{dispose:()=>wn(t)}}function wn(t){for(;t.length;)t.pop().dispose()}var me={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]};export{On as CompletionAdapter,be as DefinitionAdapter,jn as DiagnosticsAdapter,Gn as DocumentColorAdapter,Qn as DocumentFormattingEditProvider,ve as DocumentHighlightAdapter,_e as DocumentLinkAdapter,Jn as DocumentRangeFormattingEditProvider,qn as DocumentSymbolAdapter,Yn as FoldingRangeAdapter,Wn as HoverAdapter,ke as ReferenceAdapter,Ce as RenameAdapter,te as SelectionRangeAdapter,Fn as WorkerManager,A as fromPosition,mn as fromRange,we as getWorker,ye as setupMode,C as toRange,V as toTextEdit};
